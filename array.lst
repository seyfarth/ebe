     1                                 %line 389+1 /home/seyfarth/ebe/ebe.inc
     2                                 
     3                                 %line 479+1 /home/seyfarth/ebe/ebe.inc
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 %line 493+1 /home/seyfarth/ebe/ebe.inc
     9                                 
    10                                 
    11                                 
    12                                 
    13                                 
    14                                 
    15                                 
    16                                 
    17                                 
    18                                 
    19                                 %line 510+1 /home/seyfarth/ebe/ebe.inc
    20                                 local1 equ -8*1
    21                                 %line 510+0 /home/seyfarth/ebe/ebe.inc
    22                                 local2 equ -8*2
    23                                 local3 equ -8*3
    24                                 local4 equ -8*4
    25                                 local5 equ -8*5
    26                                 local6 equ -8*6
    27                                 local7 equ -8*7
    28                                 local8 equ -8*8
    29                                 local9 equ -8*9
    30                                 local10 equ -8*10
    31                                 local11 equ -8*11
    32                                 local12 equ -8*12
    33                                 local13 equ -8*13
    34                                 local14 equ -8*14
    35                                 local15 equ -8*15
    36                                 local16 equ -8*16
    37                                 local17 equ -8*17
    38                                 local18 equ -8*18
    39                                 local19 equ -8*19
    40                                 local20 equ -8*20
    41                                 local21 equ -8*21
    42                                 local22 equ -8*22
    43                                 local23 equ -8*23
    44                                 local24 equ -8*24
    45                                 local25 equ -8*25
    46                                 local26 equ -8*26
    47                                 local27 equ -8*27
    48                                 local28 equ -8*28
    49                                 local29 equ -8*29
    50                                 local30 equ -8*30
    51                                 local31 equ -8*31
    52                                 local32 equ -8*32
    53                                 local33 equ -8*33
    54                                 local34 equ -8*34
    55                                 local35 equ -8*35
    56                                 local36 equ -8*36
    57                                 local37 equ -8*37
    58                                 local38 equ -8*38
    59                                 local39 equ -8*39
    60                                 local40 equ -8*40
    61                                 local41 equ -8*41
    62                                 local42 equ -8*42
    63                                 local43 equ -8*43
    64                                 local44 equ -8*44
    65                                 local45 equ -8*45
    66                                 local46 equ -8*46
    67                                 local47 equ -8*47
    68                                 local48 equ -8*48
    69                                 local49 equ -8*49
    70                                 local50 equ -8*50
    71                                 local51 equ -8*51
    72                                 local52 equ -8*52
    73                                 local53 equ -8*53
    74                                 local54 equ -8*54
    75                                 local55 equ -8*55
    76                                 local56 equ -8*56
    77                                 local57 equ -8*57
    78                                 local58 equ -8*58
    79                                 local59 equ -8*59
    80                                 local60 equ -8*60
    81                                 local61 equ -8*61
    82                                 local62 equ -8*62
    83                                 local63 equ -8*63
    84                                 local64 equ -8*64
    85                                 local65 equ -8*65
    86                                 local66 equ -8*66
    87                                 local67 equ -8*67
    88                                 local68 equ -8*68
    89                                 local69 equ -8*69
    90                                 local70 equ -8*70
    91                                 local71 equ -8*71
    92                                 local72 equ -8*72
    93                                 local73 equ -8*73
    94                                 local74 equ -8*74
    95                                 local75 equ -8*75
    96                                 local76 equ -8*76
    97                                 local77 equ -8*77
    98                                 local78 equ -8*78
    99                                 local79 equ -8*79
   100                                 local80 equ -8*80
   101                                 local81 equ -8*81
   102                                 local82 equ -8*82
   103                                 local83 equ -8*83
   104                                 local84 equ -8*84
   105                                 local85 equ -8*85
   106                                 local86 equ -8*86
   107                                 local87 equ -8*87
   108                                 local88 equ -8*88
   109                                 local89 equ -8*89
   110                                 local90 equ -8*90
   111                                 local91 equ -8*91
   112                                 local92 equ -8*92
   113                                 local93 equ -8*93
   114                                 local94 equ -8*94
   115                                 local95 equ -8*95
   116                                 local96 equ -8*96
   117                                 local97 equ -8*97
   118                                 local98 equ -8*98
   119                                 local99 equ -8*99
   120                                 local100 equ -8*100
   121                                 %line 512+1 /home/seyfarth/ebe/ebe.inc
   122                                 
   123                                 
   124                                 
   125                                 
   126                                 
   127                                 
   128                                 
   129                                 
   130                                 
   131                                 
   132                                 
   133                                 %line 530+1 /home/seyfarth/ebe/ebe.inc
   134                                 newPar7 equ 8*(7-7)
   135                                 %line 530+0 /home/seyfarth/ebe/ebe.inc
   136                                 newPar8 equ 8*(8-7)
   137                                 newPar9 equ 8*(9-7)
   138                                 newPar10 equ 8*(10-7)
   139                                 newPar11 equ 8*(11-7)
   140                                 newPar12 equ 8*(12-7)
   141                                 newPar13 equ 8*(13-7)
   142                                 newPar14 equ 8*(14-7)
   143                                 newPar15 equ 8*(15-7)
   144                                 newPar16 equ 8*(16-7)
   145                                 newPar17 equ 8*(17-7)
   146                                 newPar18 equ 8*(18-7)
   147                                 newPar19 equ 8*(19-7)
   148                                 newPar20 equ 8*(20-7)
   149                                 newPar21 equ 8*(21-7)
   150                                 newPar22 equ 8*(22-7)
   151                                 newPar23 equ 8*(23-7)
   152                                 newPar24 equ 8*(24-7)
   153                                 newPar25 equ 8*(25-7)
   154                                 newPar26 equ 8*(26-7)
   155                                 newPar27 equ 8*(27-7)
   156                                 newPar28 equ 8*(28-7)
   157                                 newPar29 equ 8*(29-7)
   158                                 newPar30 equ 8*(30-7)
   159                                 newPar31 equ 8*(31-7)
   160                                 newPar32 equ 8*(32-7)
   161                                 newPar33 equ 8*(33-7)
   162                                 newPar34 equ 8*(34-7)
   163                                 newPar35 equ 8*(35-7)
   164                                 newPar36 equ 8*(36-7)
   165                                 newPar37 equ 8*(37-7)
   166                                 newPar38 equ 8*(38-7)
   167                                 newPar39 equ 8*(39-7)
   168                                 newPar40 equ 8*(40-7)
   169                                 newPar41 equ 8*(41-7)
   170                                 newPar42 equ 8*(42-7)
   171                                 newPar43 equ 8*(43-7)
   172                                 newPar44 equ 8*(44-7)
   173                                 newPar45 equ 8*(45-7)
   174                                 newPar46 equ 8*(46-7)
   175                                 newPar47 equ 8*(47-7)
   176                                 newPar48 equ 8*(48-7)
   177                                 newPar49 equ 8*(49-7)
   178                                 newPar50 equ 8*(50-7)
   179                                 newPar51 equ 8*(51-7)
   180                                 newPar52 equ 8*(52-7)
   181                                 newPar53 equ 8*(53-7)
   182                                 newPar54 equ 8*(54-7)
   183                                 newPar55 equ 8*(55-7)
   184                                 newPar56 equ 8*(56-7)
   185                                 newPar57 equ 8*(57-7)
   186                                 newPar58 equ 8*(58-7)
   187                                 newPar59 equ 8*(59-7)
   188                                 newPar60 equ 8*(60-7)
   189                                 newPar61 equ 8*(61-7)
   190                                 newPar62 equ 8*(62-7)
   191                                 newPar63 equ 8*(63-7)
   192                                 newPar64 equ 8*(64-7)
   193                                 newPar65 equ 8*(65-7)
   194                                 newPar66 equ 8*(66-7)
   195                                 newPar67 equ 8*(67-7)
   196                                 newPar68 equ 8*(68-7)
   197                                 newPar69 equ 8*(69-7)
   198                                 newPar70 equ 8*(70-7)
   199                                 newPar71 equ 8*(71-7)
   200                                 newPar72 equ 8*(72-7)
   201                                 newPar73 equ 8*(73-7)
   202                                 newPar74 equ 8*(74-7)
   203                                 newPar75 equ 8*(75-7)
   204                                 newPar76 equ 8*(76-7)
   205                                 newPar77 equ 8*(77-7)
   206                                 newPar78 equ 8*(78-7)
   207                                 newPar79 equ 8*(79-7)
   208                                 newPar80 equ 8*(80-7)
   209                                 newPar81 equ 8*(81-7)
   210                                 newPar82 equ 8*(82-7)
   211                                 newPar83 equ 8*(83-7)
   212                                 newPar84 equ 8*(84-7)
   213                                 newPar85 equ 8*(85-7)
   214                                 newPar86 equ 8*(86-7)
   215                                 newPar87 equ 8*(87-7)
   216                                 newPar88 equ 8*(88-7)
   217                                 newPar89 equ 8*(89-7)
   218                                 newPar90 equ 8*(90-7)
   219                                 newPar91 equ 8*(91-7)
   220                                 newPar92 equ 8*(92-7)
   221                                 newPar93 equ 8*(93-7)
   222                                 newPar94 equ 8*(94-7)
   223                                 newPar95 equ 8*(95-7)
   224                                 newPar96 equ 8*(96-7)
   225                                 newPar97 equ 8*(97-7)
   226                                 newPar98 equ 8*(98-7)
   227                                 newPar99 equ 8*(99-7)
   228                                 newPar100 equ 8*(100-7)
   229                                 %line 532+1 /home/seyfarth/ebe/ebe.inc
   230                                 
   231                                 
   232                                 
   233                                 
   234                                 
   235                                 
   236                                 
   237                                 
   238                                 
   239                                 
   240                                 
   241                                 %line 546+1 /home/seyfarth/ebe/ebe.inc
   242                                 
   243                                 %line 551+1 /home/seyfarth/ebe/ebe.inc
   244                                 currPar7 equ 16+8*(7-7)
   245                                 %line 551+0 /home/seyfarth/ebe/ebe.inc
   246                                 currPar8 equ 16+8*(8-7)
   247                                 currPar9 equ 16+8*(9-7)
   248                                 currPar10 equ 16+8*(10-7)
   249                                 currPar11 equ 16+8*(11-7)
   250                                 currPar12 equ 16+8*(12-7)
   251                                 currPar13 equ 16+8*(13-7)
   252                                 currPar14 equ 16+8*(14-7)
   253                                 currPar15 equ 16+8*(15-7)
   254                                 currPar16 equ 16+8*(16-7)
   255                                 currPar17 equ 16+8*(17-7)
   256                                 currPar18 equ 16+8*(18-7)
   257                                 currPar19 equ 16+8*(19-7)
   258                                 currPar20 equ 16+8*(20-7)
   259                                 currPar21 equ 16+8*(21-7)
   260                                 currPar22 equ 16+8*(22-7)
   261                                 currPar23 equ 16+8*(23-7)
   262                                 currPar24 equ 16+8*(24-7)
   263                                 currPar25 equ 16+8*(25-7)
   264                                 currPar26 equ 16+8*(26-7)
   265                                 currPar27 equ 16+8*(27-7)
   266                                 currPar28 equ 16+8*(28-7)
   267                                 currPar29 equ 16+8*(29-7)
   268                                 currPar30 equ 16+8*(30-7)
   269                                 currPar31 equ 16+8*(31-7)
   270                                 currPar32 equ 16+8*(32-7)
   271                                 currPar33 equ 16+8*(33-7)
   272                                 currPar34 equ 16+8*(34-7)
   273                                 currPar35 equ 16+8*(35-7)
   274                                 currPar36 equ 16+8*(36-7)
   275                                 currPar37 equ 16+8*(37-7)
   276                                 currPar38 equ 16+8*(38-7)
   277                                 currPar39 equ 16+8*(39-7)
   278                                 currPar40 equ 16+8*(40-7)
   279                                 currPar41 equ 16+8*(41-7)
   280                                 currPar42 equ 16+8*(42-7)
   281                                 currPar43 equ 16+8*(43-7)
   282                                 currPar44 equ 16+8*(44-7)
   283                                 currPar45 equ 16+8*(45-7)
   284                                 currPar46 equ 16+8*(46-7)
   285                                 currPar47 equ 16+8*(47-7)
   286                                 currPar48 equ 16+8*(48-7)
   287                                 currPar49 equ 16+8*(49-7)
   288                                 currPar50 equ 16+8*(50-7)
   289                                 currPar51 equ 16+8*(51-7)
   290                                 currPar52 equ 16+8*(52-7)
   291                                 currPar53 equ 16+8*(53-7)
   292                                 currPar54 equ 16+8*(54-7)
   293                                 currPar55 equ 16+8*(55-7)
   294                                 currPar56 equ 16+8*(56-7)
   295                                 currPar57 equ 16+8*(57-7)
   296                                 currPar58 equ 16+8*(58-7)
   297                                 currPar59 equ 16+8*(59-7)
   298                                 currPar60 equ 16+8*(60-7)
   299                                 currPar61 equ 16+8*(61-7)
   300                                 currPar62 equ 16+8*(62-7)
   301                                 currPar63 equ 16+8*(63-7)
   302                                 currPar64 equ 16+8*(64-7)
   303                                 currPar65 equ 16+8*(65-7)
   304                                 currPar66 equ 16+8*(66-7)
   305                                 currPar67 equ 16+8*(67-7)
   306                                 currPar68 equ 16+8*(68-7)
   307                                 currPar69 equ 16+8*(69-7)
   308                                 currPar70 equ 16+8*(70-7)
   309                                 currPar71 equ 16+8*(71-7)
   310                                 currPar72 equ 16+8*(72-7)
   311                                 currPar73 equ 16+8*(73-7)
   312                                 currPar74 equ 16+8*(74-7)
   313                                 currPar75 equ 16+8*(75-7)
   314                                 currPar76 equ 16+8*(76-7)
   315                                 currPar77 equ 16+8*(77-7)
   316                                 currPar78 equ 16+8*(78-7)
   317                                 currPar79 equ 16+8*(79-7)
   318                                 currPar80 equ 16+8*(80-7)
   319                                 currPar81 equ 16+8*(81-7)
   320                                 currPar82 equ 16+8*(82-7)
   321                                 currPar83 equ 16+8*(83-7)
   322                                 currPar84 equ 16+8*(84-7)
   323                                 currPar85 equ 16+8*(85-7)
   324                                 currPar86 equ 16+8*(86-7)
   325                                 currPar87 equ 16+8*(87-7)
   326                                 currPar88 equ 16+8*(88-7)
   327                                 currPar89 equ 16+8*(89-7)
   328                                 currPar90 equ 16+8*(90-7)
   329                                 currPar91 equ 16+8*(91-7)
   330                                 currPar92 equ 16+8*(92-7)
   331                                 currPar93 equ 16+8*(93-7)
   332                                 currPar94 equ 16+8*(94-7)
   333                                 currPar95 equ 16+8*(95-7)
   334                                 currPar96 equ 16+8*(96-7)
   335                                 currPar97 equ 16+8*(97-7)
   336                                 currPar98 equ 16+8*(98-7)
   337                                 currPar99 equ 16+8*(99-7)
   338                                 currPar100 equ 16+8*(100-7)
   339                                 %line 553+1 /home/seyfarth/ebe/ebe.inc
   340                                 
   341                                 %line 555+1 /home/seyfarth/ebe/ebe.inc
   342                                 
   343                                 %line 562+1 /home/seyfarth/ebe/ebe.inc
   344                                 
   345                                 %line 569+1 /home/seyfarth/ebe/ebe.inc
   346                                 
   347                                 %line 574+1 /home/seyfarth/ebe/ebe.inc
   348                                 
   349                                 %line 579+1 /home/seyfarth/ebe/ebe.inc
   350                                 
   351                                 %line 584+1 /home/seyfarth/ebe/ebe.inc
   352                                 
   353                                 %line 589+1 /home/seyfarth/ebe/ebe.inc
   354                                 
   355                                 %line 593+1 /home/seyfarth/ebe/ebe.inc
   356                                 
   357                                 %line 597+1 /home/seyfarth/ebe/ebe.inc
   358                                 
   359                                 %line 600+1 /home/seyfarth/ebe/ebe.inc
   360                                 
   361                                 %line 608+1 /home/seyfarth/ebe/ebe.inc
   362                                 
   363                                 %line 619+1 /home/seyfarth/ebe/ebe.inc
   364                                 
   365                                 %line 624+1 /home/seyfarth/ebe/ebe.inc
   366                                 
   367                                 %line 1+1 /home/seyfarth/ebe/array.asm
   368                                 
   369                                 [segment .data]
   370 00000000 0000<rept>             a times 10 dw 0
   371                                 [segment .bss]
   372 00000000 <gap>                  b resw 10
   373                                 
   374                                 [segment .text]
   375                                 [global main]
   376                                 [extern random]
   377                                 %line 9+0 /home/seyfarth/ebe/array.asm
   378                                 [extern malloc]
   379                                 %line 10+1 /home/seyfarth/ebe/array.asm
   380                                 main:
   381                                 array equ local1
   382 00000000 55                      push rbp
   383 00000001 4889E5                  mov rbp, rsp
   384                                 
   385 00000004 4883EC10                sub rsp, 16
   386                                 
   387                                 
   388                                 
   389                                 
   390                                 
   391 00000008 488D3C25[00000000]      lea rdi, [a]
   392 00000010 BE0A000000              mov esi, 10
   393 00000015 E85D000000              call fill
   394 0000001A 488D3C25[00000000]      lea rdi, [a]
   395 00000022 BE0A000000              mov esi, 10
   396 00000027 E884000000              call sort
   397 0000002C 488D3C25[00000000]      lea rdi, [b]
   398 00000034 BE0A000000              mov esi, 10
   399 00000039 E839000000              call fill
   400 0000003E 488D3C25[00000000]      lea rdi, [b]
   401 00000046 BE0A000000              mov esi, 10
   402 0000004B E860000000              call sort
   403                                 
   404 00000050 BFD0070000              mov edi, 2000
   405                                 
   406 00000055 E8(F6FFFFFF)            call malloc
   407 0000005A 488945F8                mov [rbp+array], rax
   408                                 
   409 0000005E 488B7DF8                mov rdi, [rbp+array]
   410 00000062 BEE8030000              mov esi, 1000
   411 00000067 E80B000000              call fill
   412 0000006C 488B7DF8                mov rdi, [rbp+array]
   413 00000070 BEE8030000              mov esi, 1000
   414 00000075 E836000000              call sort
   415                                 
   416 0000007A C9                      leave
   417 0000007B C3                      ret
   418                                 
   419                                 fill:
   420                                 
   421                                 n equ local2
   422                                 i equ local3
   423 0000007C 55                      push rbp
   424 0000007D 4889E5                  mov rbp, rsp
   425                                 
   426 00000080 4883EC20                sub rsp, 32
   427                                 
   428 00000084 48897DF8                mov [rbp+array], rdi
   429 00000088 488975F0                mov [rbp+n], rsi
   430 0000008C 31C9                    xor ecx, ecx
   431                                 .more:
   432 0000008E 48894DE8                mov [rbp+i], rcx
   433 00000092 FF1425[00000000]        call [random wrt ..got]
   434 00000099 4825FF030000            and rax, 0x3ff
   435 0000009F 488B4DE8                mov rcx, [rbp+i]
   436 000000A3 488B7DF8                mov rdi, [rbp+array]
   437 000000A7 6689044F                mov [rdi+2*rcx], ax
   438 000000AB FFC1                    inc ecx
   439 000000AD 483B4DF0                cmp rcx, [rbp+n]
   440 000000B1 75D9                    jne .more
   441                                 
   442 000000B3 C9                      leave
   443 000000B4 C3                      ret
   444                                 
   445                                 
   446                                 sort:
   447                                 
   448 000000B5 55                      push rbp
   449 000000B6 4889E5                  mov rbp, rsp
   450                                 
   451 000000B9 4883EC00                sub rsp, 0
   452                                 
   453                                 
   454                                 
   455                                 
   456                                 
   457                                 top:
   458                                 
   459 000000BD BA01000000              mov edx, 1
   460                                 
   461 000000C2 31C9                    xor ecx, ecx
   462 000000C4 FFCE                    dec esi
   463                                 for_top:
   464 000000C6 39F1                    cmp ecx, esi
   465 000000C8 7D20                    jnl for_end
   466                                 
   467 000000CA 66448B044F              mov r8w, [rdi+2*rcx]
   468 000000CF 66448B4C4F02            mov r9w, [rdi+2*rcx+2]
   469 000000D5 664539C8                cmp r8w, r9w
   470 000000D9 7E0B                    jng no_swap
   471 000000DB 6644890C4F              mov [rdi+2*rcx], r9w
   472 000000E0 664489444F02            mov [rdi+2*rcx+2], r8w
   473 000000E6 31D2                    xor edx, edx
   474                                 no_swap:
   475                                 
   476                                 
   477                                 
   478 000000E8 FFC1                    inc ecx
   479 000000EA EBD8                    jmp for_top
   480                                 for_end:
   481                                 
   482                                 
   483                                 
   484 000000EC 83FA01                  cmp edx, 1
   485 000000EF 75CA                    jne top
   486 000000F1 C9                      leave
   487 000000F2 C3                      ret
